---
import PresentationLayout from '~/layouts/PresentationLayout.astro';

const metadata = {
  title: 'Modern Frontend Testing Strategies',
  description: 'Building Efficient Test Suites That Scale',
  ignoreTitleTemplate: false,
};
---

<PresentationLayout metadata={metadata}>
  <!-- Slide 1: Title -->
  <section data-state="title" class="title-slide">
    <h1>Modern Frontend Testing Strategies</h1>
    <h2>Building Efficient Test Suites That Scale</h2>
  </section>

  <!-- Slide 2: Why This Matters -->
  <section>
    <h2>Why This Matters</h2>
    <p style="font-size: 1.4rem; font-weight: 600; text-align: center; color: #e2e8f0; margin-bottom: 2rem;">
      Our test suite doesn't match our ambitions.
    </p>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 2rem;">
      <div>
        <h3 style="color: #0ea5c1;">Impact on the team:</h3>
        <ul style="color: #a0aec0;">
          <li>Slower feature delivery</li>
          <li>Engineers blocked waiting for feedback</li>
          <li>Lower deployment confidence</li>
        </ul>
      </div>
      <div>
        <h3 style="color: #0ea5c1;">Impact on the business:</h3>
        <ul style="color: #a0aec0;">
          <li>Longer time to market</li>
          <li>Higher bug fix costs</li>
          <li>Reduced competitive advantage</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Slide 3: Without Tests -->
  <section>
    <h2>Without Tests, You're Stuck</h2>
    <div
      style="display: grid; grid-template-columns: 1fr 1fr; grid-template-rows: auto 1fr auto; gap: 0 2rem; margin-top: 2rem;"
    >
      <div>
        <h3 style="color: #0ea5c1; margin-bottom: 1rem;">Refactoring Becomes Impossible</h3>
      </div>
      <div>
        <h3 style="color: #0ea5c1; margin-bottom: 1rem;">Every Change Is Risky</h3>
      </div>

      <div>
        <p style="color: #e2e8f0; margin-bottom: 1rem;">Questions that stop you:</p>
        <ul style="color: #a0aec0; font-size: 0.95rem;">
          <li>Will this change cascade?</li>
          <li>Does something else depend on this?</li>
          <li>What breaks if I touch this?</li>
        </ul>
      </div>
      <div>
        <p style="color: #e2e8f0; margin-bottom: 1rem;">Common scenario:</p>
        <ul style="color: #a0aec0; font-size: 0.95rem;">
          <li>Fix feature A, break feature B</li>
          <li>Fix one bug, create another</li>
        </ul>
      </div>

      <div>
        <p style="color: #f0c36d; margin-top: 1.5rem; font-weight: 600;">
          Result: You don't refactor. Tech debt grows.
        </p>
      </div>
      <div>
        <p style="color: #f0c36d; margin-top: 1.5rem; font-weight: 600;">
          Result: Production bugs. Fragile codebase. Slower delivery.
        </p>
      </div>
    </div>
  </section>

  <!-- Slide 4: The Cost of No Tests -->
  <section>
    <h2>The Cost of No Tests</h2>
    <div style="margin-top: 2rem;">
      <div class="content-box" style="margin-bottom: 1.5rem;">
        <span class="content-box-icon">‚ö°</span>
        <div class="content-box-content">
          <h3>Manual testing takes hours or days</h3>
          <p style="color: #a0aec0;">Machines are faster than people. Your test suite runs in minutes.</p>
        </div>
      </div>

      <div class="content-box" style="margin-bottom: 1.5rem;">
        <span class="content-box-icon">üí∏</span>
        <div class="content-box-content">
          <h3>Bugs get exponentially more expensive</h3>
          <ul style="color: #a0aec0; font-size: 0.9rem; margin: 0.5rem 0 0 0;">
            <li>Fix in dev: 5 minutes</li>
            <li>Fix in QA: 2 hours (context switch, deploy, verify)</li>
            <li>Fix in production: 8 hours + customer trust + revenue impact</li>
          </ul>
        </div>
      </div>

      <div class="content-box" style="margin-bottom: 1.5rem;">
        <span class="content-box-icon">üîí</span>
        <div class="content-box-content">
          <h3>Safe refactoring disappears</h3>
          <p style="color: #a0aec0;">Without tests, every change is scary. Your codebase becomes untouchable.</p>
        </div>
      </div>

      <div class="content-box">
        <span class="content-box-icon">üò∞</span>
        <div class="content-box-content">
          <h3>Peace of mind vanishes</h3>
          <p style="color: #a0aec0;">Deploy on Friday? No way.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Slide 5: The Prerequisite -->
  <section>
    <h2>Strong Testing Enables Continuous Delivery</h2>
    <div style="margin-top: 3rem;">
      <blockquote
        style="font-size: 1.6rem; font-weight: 600; color: #0ea5c1; margin: 2rem auto; padding: 1.5rem; border-left: 4px solid #0ea5c1; background: rgba(14, 165, 193, 0.1);"
      >
        Continuous Delivery ‚â† Continuous Deployment
      </blockquote>
      <div style="margin-top: 2rem; font-size: 1.1rem;">
        <p style="color: #e2e8f0; font-weight: 600; margin-bottom: 1rem;">Continuous Delivery means:</p>
        <p style="color: #a0aec0; font-size: 1.3rem; margin-bottom: 1rem;">
          You <strong style="color: #0ea5c1;">CAN</strong> ship to production at any time.
        </p>
        <p style="color: #a0aec0;">Tests give you that confidence.</p>
        <p style="color: #64748b; font-size: 0.9rem; margin-top: 2rem; font-style: italic;">
          (Note: Don't confuse with Continuous Deployment - automatically shipping every commit)
        </p>
      </div>
    </div>
  </section>

  <!-- Slide 6: What We Want to Achieve -->
  <section>
    <h2>The Goal</h2>
    <div
      style="display: grid; grid-template-columns: auto auto auto; gap: 1rem 2rem; margin: 2rem auto 0; font-size: 1.2rem; align-items: center; max-width: 650px; justify-items: start;"
    >
      <div style="text-align: left;">
        <span style="color: #4ade80; font-size: 1.5rem;">‚úÖ</span>
        <strong style="color: #e2e8f0;">Tests are easy to write</strong>
      </div>
      <span style="color: #64748b;">‚Äî</span>
      <span style="color: #a0aec0; text-align: left;">Not a burden</span>

      <div style="text-align: left;">
        <span style="color: #4ade80; font-size: 1.5rem;">‚úÖ</span>
        <strong style="color: #e2e8f0;">Tests are reliable</strong>
      </div>
      <span style="color: #64748b;">‚Äî</span>
      <span style="color: #a0aec0; text-align: left;">No flaky failures</span>

      <div style="text-align: left;">
        <span style="color: #4ade80; font-size: 1.5rem;">‚úÖ</span>
        <strong style="color: #e2e8f0;">Tests give fast feedback</strong>
      </div>
      <span style="color: #64748b;">‚Äî</span>
      <span style="color: #a0aec0; text-align: left;">Minutes, not hours</span>

      <div style="text-align: left;">
        <span style="color: #4ade80; font-size: 1.5rem;">‚úÖ</span>
        <strong style="color: #e2e8f0;">Tests catch real bugs</strong>
      </div>
      <span style="color: #64748b;">‚Äî</span>
      <span style="color: #a0aec0; text-align: left;">Not just checkbox compliance</span>
    </div>
  </section>

  <!-- Slide 7: Why Teams Skip Tests -->
  <section>
    <h2>Why Teams Give Up on Testing</h2>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; margin-top: 2rem;">
      <div class="content-box">
        <span class="content-box-icon">ü§∑</span>
        <div class="content-box-content">
          <h3>Don't know how</h3>
          <p style="color: #a0aec0;">Following outdated tutorials from 2018</p>
        </div>
      </div>

      <div class="content-box">
        <span class="content-box-icon">‚è∞</span>
        <div class="content-box-content">
          <h3>Business pressure</h3>
          <p style="color: #a0aec0;">"We'll add tests later" (spoiler: they don't)</p>
        </div>
      </div>

      <div class="content-box">
        <span class="content-box-icon">üò§</span>
        <div class="content-box-content">
          <h3>Takes time to develop</h3>
          <p style="color: #a0aec0;">Writing tests feels slower than shipping features</p>
        </div>
      </div>

      <div class="content-box">
        <span class="content-box-icon">üîß</span>
        <div class="content-box-content">
          <h3>Maintenance hell</h3>
          <p style="color: #a0aec0;">Every small change breaks 20 tests</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Slide 8: Three Testing Layers -->
  <section>
    <h2>Types of Tests on Frontend</h2>
    <div style="margin-top: 3rem; font-size: 1.2rem; line-height: 2;">
      <p style="margin-bottom: 1.5rem;">
        <strong style="color: #0ea5c1;">Unit Tests</strong>
        <span style="color: #a0aec0;"> ‚Üí Test isolated functions</span>
      </p>
      <p style="margin-bottom: 1.5rem;">
        <strong style="color: #0ea5c1;">Integration Tests</strong>
        <span style="color: #a0aec0;"> ‚Üí Test components + API interactions</span>
      </p>
      <p>
        <strong style="color: #0ea5c1;">E2E Tests</strong>
        <span style="color: #a0aec0;"> ‚Üí Test complete user flows</span>
      </p>
    </div>
  </section>

  <!-- Slide 9: Comparison Table -->
  <section>
    <h2>Understanding Each Test Type</h2>
    <table style="width: 100%; border-collapse: collapse; margin-top: 1.5rem; font-size: 0.8rem;">
      <thead>
        <tr style="border-bottom: 2px solid #0ea5c1;">
          <th style="text-align: left; padding: 0.75rem; background: rgba(14, 165, 193, 0.1);"></th>
          <th style="text-align: left; padding: 0.75rem; background: rgba(14, 165, 193, 0.1);">Unit</th>
          <th style="text-align: left; padding: 0.75rem; background: rgba(14, 165, 193, 0.1);">Integration</th>
          <th style="text-align: left; padding: 0.75rem; background: rgba(14, 165, 193, 0.1);">E2E</th>
        </tr>
      </thead>
      <tbody>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.75rem; font-weight: 600;">What question?</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Does this function work in isolation?</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Do these pieces work together?</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Does the user flow work end-to-end?</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.75rem; font-weight: 600;">Speed</td>
          <td style="padding: 0.75rem; color: #a0aec0;">‚ö° Milliseconds</td>
          <td style="padding: 0.75rem; color: #a0aec0;">üèÉ Seconds</td>
          <td style="padding: 0.75rem; color: #a0aec0;">üêå Minutes</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.75rem; font-weight: 600;">Confidence</td>
          <td style="padding: 0.75rem; color: #a0aec0;">ü§∑ Low - doesn't test real interactions</td>
          <td style="padding: 0.75rem; color: #a0aec0;">‚úÖ High - tests actual behavior</td>
          <td style="padding: 0.75rem; color: #a0aec0;">‚úÖ‚úÖ Highest - tests everything</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.75rem; font-weight: 600;">Maintenance</td>
          <td style="padding: 0.75rem; color: #a0aec0;">‚úÖ Easy</td>
          <td style="padding: 0.75rem; color: #a0aec0;">‚úÖ Moderate</td>
          <td style="padding: 0.75rem; color: #a0aec0;">‚úÖ Moderate</td>
        </tr>
        <tr>
          <td style="padding: 0.75rem; font-weight: 600;">When to use</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Complex logic, edge cases</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Most of your tests</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Critical user paths only</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Slide 10: Testing Pyramid -->
  <section>
    <h2>The Traditional Approach: Testing Pyramid</h2>
    <div style="margin-top: 2rem;">
      <div style="display: flex; flex-direction: column; align-items: center; gap: 0;">
        <!-- E2E: Triangle -->
        <div
          style="width: 350px; height: 70px; background: linear-gradient(to bottom, rgba(239, 68, 68, 0.3), rgba(239, 68, 68, 0.5)); border: 2px solid #ef4444; display: flex; align-items: center; justify-content: center; clip-path: polygon(50% 0, 100% 100%, 0 100%);"
        >
          <span style="font-size: 0.9rem; font-weight: 600;">üî¥ E2E: 10%</span>
        </div>
        <!-- Integration: Trapezoid -->
        <div
          style="width: 500px; height: 90px; background: linear-gradient(to bottom, rgba(34, 197, 94, 0.3), rgba(34, 197, 94, 0.5)); border: 2px solid #22c55e; border-top: none; display: flex; align-items: center; justify-content: center; clip-path: polygon(15% 0, 85% 0, 100% 100%, 0 100%);"
        >
          <span style="font-size: 0.9rem; font-weight: 600;">üü¢ Integration: 20%</span>
        </div>
        <!-- Unit: Trapezoid -->
        <div
          style="width: 600px; height: 110px; background: linear-gradient(to bottom, rgba(59, 130, 246, 0.3), rgba(59, 130, 246, 0.5)); border: 2px solid #3b82f6; border-top: none; display: flex; align-items: center; justify-content: center; clip-path: polygon(8.5% 0, 91.5% 0, 100% 100%, 0 100%);"
        >
          <span style="font-size: 0.9rem; font-weight: 600;">üîµ Unit: 70%</span>
        </div>
      </div>
      <p style="margin-top: 2rem; color: #a0aec0; text-align: center; font-size: 1.1rem;">
        <strong style="color: #e2e8f0;">The logic:</strong> Unit tests are cheap and fast, so write mostly those.
      </p>
    </div>
  </section>

  <!-- Slide 11: The Problem with Pyramids -->
  <section>
    <h2>Why the Pyramid Fails for Modern Frontend</h2>
    <div style="margin-top: 2rem;">
      <div class="content-box red" style="margin-bottom: 1.5rem;">
        <span class="content-box-icon">üéØ</span>
        <div class="content-box-content">
          <h3>Unit tests don't test behavior</h3>
          <ul style="color: #a0aec0; font-size: 0.9rem; margin: 0.5rem 0 0 0;">
            <li>They test implementation details</li>
            <li>Function works in isolation ‚â† feature works for users</li>
          </ul>
        </div>
      </div>

      <div class="content-box red" style="margin-bottom: 1.5rem;">
        <span class="content-box-icon">üîß</span>
        <div class="content-box-content">
          <h3>High maintenance, low value</h3>
          <ul style="color: #a0aec0; font-size: 0.9rem; margin: 0.5rem 0 0 0;">
            <li>Tons of unit tests that break on every refactor</li>
            <li>Engineers spend time maintaining tests that don't catch real bugs</li>
            <li>Creates perception: "Testing is expensive and doesn't help"</li>
          </ul>
        </div>
      </div>

      <div class="content-box red">
        <span class="content-box-icon">üë§</span>
        <div class="content-box-content">
          <h3>The disconnect</h3>
          <p style="color: #a0aec0;">Your users don't call functions. They click buttons and fill forms.</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Slide 12: Testing Trophy -->
  <section>
    <h2>Modern Approach: Testing Trophy</h2>
    <div style="margin-top: 2rem;">
      <div style="display: flex; flex-direction: column; align-items: center; gap: 0;">
        <!-- E2E: Triangle -->
        <div
          style="width: 420px; height: 90px; background: linear-gradient(to bottom, rgba(239, 68, 68, 0.3), rgba(239, 68, 68, 0.5)); border: 2px solid #ef4444; display: flex; align-items: center; justify-content: center; clip-path: polygon(50% 0, 88% 100%, 12% 100%);"
        >
          <span style="font-size: 0.9rem; font-weight: 600;">üî¥ E2E: 20-30%</span>
        </div>
        <!-- Integration: Hexagon -->
        <div
          style="width: 420px; height: 140px; background: linear-gradient(to bottom, rgba(34, 197, 94, 0.3), rgba(34, 197, 94, 0.5)); border: 2px solid #22c55e; border-top: none; display: flex; align-items: center; justify-content: center; clip-path: polygon(12% 0, 88% 0, 100% 50%, 88% 100%, 12% 100%, 0% 50%);"
        >
          <span style="font-size: 0.9rem; font-weight: 600;">üü¢ Integration: 50-60%</span>
        </div>
        <!-- Unit: Inverted Trapezoid (narrow bottom, wider top) -->
        <div
          style="width: 320px; height: 70px; background: linear-gradient(to bottom, rgba(59, 130, 246, 0.3), rgba(59, 130, 246, 0.5)); border: 2px solid #3b82f6; border-top: none; display: flex; align-items: center; justify-content: center; clip-path: polygon(0 0, 100% 0, 73% 100%, 27% 100%);"
        >
          <span style="font-size: 0.9rem; font-weight: 600;">üîµ Unit: 10-20%</span>
        </div>
        <!-- Static Analysis: Trapezoid (wide bottom, slim top) -->
        <div
          style="width: 450px; height: 60px; background: linear-gradient(to bottom, rgba(148, 163, 184, 0.3), rgba(148, 163, 184, 0.5)); border: 2px solid #94a3b8; border-top: none; display: flex; align-items: center; justify-content: center; clip-path: polygon(19% 0, 81% 0, 100% 100%, 0 100%);"
        >
          <span style="font-size: 0.85rem; font-weight: 600;">‚ö™ Static Analysis (TypeScript, ESLint)</span>
        </div>
      </div>
      <p style="margin-top: 2rem; color: #a0aec0; text-align: center; font-size: 1.1rem;">
        <strong style="color: #e2e8f0;">The shift:</strong> Focus on integration tests - they test how things work together.
      </p>
    </div>
  </section>

  <!-- Slide 13: Static Analysis -->
  <section>
    <h2>Static Analysis: The Foundation</h2>
    <h3 style="color: #0ea5c1; margin-bottom: 2rem;">TypeScript + ESLint</h3>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-top: 2rem; align-items: start;">
      <div>
        <h3 style="color: #e2e8f0; margin-bottom: 1rem;">Fast feedback</h3>
        <ul style="color: #a0aec0; font-size: 0.95rem;">
          <li style="margin-bottom: 0.75rem;">Code doesn't compile if you use a non-existing property</li>
          <li style="margin-bottom: 0.75rem;">Code doesn't compile if optional property isn't checked</li>
          <li>Zero runtime cost</li>
        </ul>
      </div>

      <div>
        <h3 style="color: #e2e8f0; margin-bottom: 1rem;">What it covers</h3>
        <ul style="color: #a0aec0; font-size: 0.95rem;">
          <li style="margin-bottom: 0.75rem;">API endpoint contracts</li>
          <li style="margin-bottom: 0.75rem;">State and actions (Redux, Zustand, etc.)</li>
          <li style="margin-bottom: 0.75rem;">Component properties</li>
          <li>All business logic functions</li>
        </ul>
      </div>
    </div>
    <p style="margin-top: 2rem; color: #0ea5c1; text-align: center; font-size: 1.1rem; font-weight: 600;">
      The foundation of the trophy.
    </p>
  </section>

  <!-- Slide 14: Unit Tests -->
  <section>
    <h2>Unit Tests</h2>
    <div style="margin-top: 2rem;">
      <p style="font-size: 1.3rem; font-weight: 600; color: #0ea5c1; margin-bottom: 2rem;">Fast. Milliseconds.</p>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 2rem; align-items: start;">
        <div>
          <h3 style="color: #e2e8f0; margin-bottom: 1rem;">What they test:</h3>
          <ul style="color: #a0aec0; font-size: 0.95rem;">
            <li style="margin-bottom: 0.75rem;">Does this function return correct output for given input?</li>
            <li style="margin-bottom: 0.75rem;">Does this component render without crashing?</li>
            <li>Does this utility handle edge cases?</li>
          </ul>
        </div>

        <div>
          <h3 style="color: #e2e8f0; margin-bottom: 1rem;">What they don't test:</h3>
          <ul style="color: #a0aec0; font-size: 0.95rem;">
            <li style="margin-bottom: 0.75rem;">User workflows across multiple components</li>
            <li style="margin-bottom: 0.75rem;">How components work together</li>
            <li>Real user scenarios</li>
          </ul>
        </div>
      </div>

      <div style="text-align: center; margin-bottom: 2rem;">
        <h3 style="color: #e2e8f0; margin-bottom: 1rem;">When to use:</h3>
        <ul style="color: #a0aec0; font-size: 0.95rem; display: inline-block; text-align: left;">
          <li style="margin-bottom: 0.75rem;">Complex business logic</li>
          <li style="margin-bottom: 0.75rem;">Edge cases in utilities</li>
          <li>Pure functions</li>
        </ul>
      </div>

      <p style="font-size: 1.1rem; color: #0ea5c1; font-weight: 600; text-align: center;">10-20% in Testing Trophy</p>
    </div>
  </section>

  <!-- Slide 15: E2E Tests -->
  <section>
    <h2>E2E Tests</h2>
    <div style="margin-top: 2rem;">
      <p style="font-size: 1.3rem; font-weight: 600; color: #f0c36d; margin-bottom: 2rem;">
        Slow. Depends on backend + 3rd party services.
      </p>

      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 2rem; align-items: start;">
        <div>
          <h3 style="color: #e2e8f0; margin-bottom: 1rem;">What they test:</h3>
          <ul style="color: #a0aec0; font-size: 0.95rem;">
            <li style="margin-bottom: 0.75rem;">Does the feature work for the user?</li>
            <li>Mimics real user actions</li>
          </ul>
        </div>

        <div>
          <h3 style="color: #e2e8f0; margin-bottom: 1rem;">What they don't test:</h3>
          <ul style="color: #a0aec0; font-size: 0.95rem;">
            <li style="margin-bottom: 0.75rem;">Edge cases efficiently</li>
            <li>Fast feedback loops</li>
          </ul>
        </div>
      </div>

      <div style="text-align: center; margin-bottom: 2rem;">
        <h3 style="color: #e2e8f0; margin-bottom: 1rem;">When to use:</h3>
        <ul style="color: #a0aec0; font-size: 0.95rem; display: inline-block; text-align: left;">
          <li style="margin-bottom: 0.75rem;">Critical user paths</li>
          <li style="margin-bottom: 0.75rem;">End-to-end workflows</li>
          <li>Smoke tests for production</li>
        </ul>
      </div>

      <p style="font-size: 1.1rem; color: #0ea5c1; font-weight: 600; text-align: center;">20-30% in Testing Trophy</p>
    </div>
  </section>

  <!-- Slide 16: Integration Tests -->
  <section>
    <h2>Integration Tests: The New Big Boss</h2>
    <div style="margin-top: 2rem;">
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 3rem; margin-bottom: 2rem;">
        <ul style="list-style: none; padding: 0; margin: 0; color: #a0aec0; font-size: 1.1rem; line-height: 1.8;">
          <li style="margin-bottom: 0.75rem;">
            <span style="color: #f87171; font-size: 1.3rem;">‚ùå</span> Unit tests don't test features
          </li>
          <li>
            <span style="color: #f87171; font-size: 1.3rem;">‚ùå</span> E2E are too slow to test everything
          </li>
        </ul>

        <div>
          <h3 style="color: #4ade80; margin-bottom: 1rem; font-size: 1.2rem;">Integration tests solve both:</h3>
          <ul style="color: #a0aec0; font-size: 0.95rem; line-height: 1.8; margin: 0;">
            <li style="margin-bottom: 0.75rem;">Test like a user (click, type, see results)</li>
            <li style="margin-bottom: 0.75rem;">Run in seconds, not minutes</li>
            <li style="margin-bottom: 0.75rem;">Use real store, real providers</li>
            <li>Mock only the API</li>
          </ul>
        </div>
      </div>

      <div
        style="border: 2px solid #0ea5c1; border-radius: 12px; padding: 1.5rem; background: rgba(14, 165, 193, 0.15); margin-bottom: 1.5rem;"
      >
        <p style="margin: 0; font-size: 1.2rem; font-weight: 600; color: #e2e8f0; text-align: center;">
          Result: Most bugs caught, fastest feedback.
        </p>
      </div>

      <p style="font-size: 1.1rem; color: #0ea5c1; font-weight: 600; text-align: center;">50-60% in Testing Trophy</p>
    </div>
  </section>

  <!-- Slide 17: Why integration tests are the new best practice? -->
  <section>
    <h2>Why integration tests are the new best practice?</h2>
    <div style="margin-top: 2rem;">
      <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-bottom: 1.5rem;">
        <div class="content-box">
          <div class="content-box-content">
            <h3>Modern tools made it possible</h3>
            <ul style="color: #a0aec0; font-size: 0.9rem; margin: 0.5rem 0 0 0;">
              <li>React Testing Library</li>
              <li>Mock Service Worker (MSW)</li>
              <li>Better testing frameworks</li>
            </ul>
          </div>
        </div>

        <div class="content-box">
          <div class="content-box-content">
            <h3>Modern practices</h3>
            <ul style="color: #a0aec0; font-size: 0.9rem; margin: 0.5rem 0 0 0;">
              <li>Much Simpler, Less complicated</li>
              <li>Test behavior, not implementation</li>
              <li>Test like a user would use it</li>
            </ul>
          </div>
        </div>
      </div>

      <div
        style="border: 2px solid #0ea5c1; border-radius: 12px; padding: 1.5rem; background: rgba(14, 165, 193, 0.15);"
      >
        <p style="margin: 0; font-size: 1.1rem; font-weight: 600; color: #e2e8f0; text-align: center;">
          Integration tests now give you E2E confidence at unit test speed.
        </p>
      </div>
    </div>
  </section>

  <!-- Slide 18: Old vs New Approach -->
  <section>
    <h2>Unit Testing Era vs Integration Testing Era</h2>
    <table style="width: 100%; border-collapse: collapse; margin-top: 1.5rem; font-size: 0.85rem;">
      <thead>
        <tr style="border-bottom: 2px solid #0ea5c1;">
          <th style="text-align: left; padding: 0.75rem; background: rgba(14, 165, 193, 0.1);"></th>
          <th style="text-align: left; padding: 0.75rem; background: rgba(14, 165, 193, 0.1);">Old: Unit Tests</th>
          <th style="text-align: left; padding: 0.75rem; background: rgba(14, 165, 193, 0.1);">
            New: Integration Tests
          </th>
        </tr>
      </thead>
      <tbody>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.75rem; font-weight: 600;">Mocking strategy</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Mock everything (Mock hell)</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Mock only API calls</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.75rem; font-weight: 600;">Test scope</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Small component in isolation</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Entire page/feature</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.75rem; font-weight: 600;">Test code style</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Tests technical details (component state)</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Tests user behavior (like E2E)</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.75rem; font-weight: 600;">Testing boundary</td>
          <td style="padding: 0.75rem; color: #a0aec0;">UI component (mock API, Store, providers)</td>
          <td style="padding: 0.75rem; color: #a0aec0;">API call (real providers, real store)</td>
        </tr>
        <tr>
          <td style="padding: 0.75rem; font-weight: 600;">Moving logic between components</td>
          <td style="padding: 0.75rem; color: #a0aec0;">Unit test fails</td>
          <td style="padding: 0.75rem; color: #a0aec0;">RTL tests keep passing</td>
        </tr>
      </tbody>
    </table>
    <p style="margin-top: 2rem; color: #0ea5c1; text-align: center; font-size: 1.1rem; font-weight: 600;">
      The shift: From testing pieces to testing features.
    </p>
  </section>

  <!-- Slide 19: Anatomy of React Integration Test -->
  <section>
    <h2>Anatomy of React Integration Test</h2>
    <div style="display: grid; grid-template-columns: 2fr 1fr; gap: 1.5rem; margin-top: 1.5rem;">
      <div>
        <pre
          style="font-size: 0.5rem; line-height: 1.3; background: #1e293b; padding: 1rem; border-radius: 8px; overflow-x: auto; max-height: 500px;"><code style="color: #e2e8f0;">// Imports

const server = setupServer(
  http.get('/api/tasks', () =&gt; &#123;
    return HttpResponse.json([
      &#123; id: 1, title: 'Review PR' &#125;
    ]);
  &#125;),
          
  http.post('/api/tasks', async (&#123; request &#125;) =&gt; &#123;
    const body = await request.json();
    return HttpResponse.json(&#123; id: 2, title: body.title &#125;);
  &#125;)
          
);

beforeAll(() =&gt; server.listen());
afterEach(() =&gt; server.resetHandlers());
afterAll(() =&gt; server.close());

function renderWithProviders(component) &#123;
  const store = configureStore(&#123;
    reducer: &#123; tasks: tasksReducer &#125;
  &#125;);

  return render(
    &lt;Provider store=&#123;store&#125;&gt;
      &lt;ThemeProvider theme=&#123;theme&#125;&gt;
        &#123;component&#125;
      &lt;/ThemeProvider&gt;
    &lt;/Provider&gt;
  );
&#125;

test('user creates new task', async () =&gt; &#123;
  renderWithProviders(&lt;TasksPage /&gt;);

  expect(await screen.findByText('Review PR')).toBeInTheDocument();
  await user.click(screen.getByRole('button', &#123; name: '/Create Task/i'));
  await user.type(screen.getByLabelText(/title/i),'Deploy to staging');
  await user.click(screen.getByRole('button', &#123; name: /save/i &#125;));

  await waitFor(() =&gt; &#123;
    expect(screen.getByText('Deploy to staging'))
      .toBeInTheDocument();
  &#125;);
&#125;);</code></pre>
      </div>
      <div>
        <div style="font-size: 0.8rem; line-height: 1.5;">
          <div style="margin-bottom: 1.5rem;">
            <h4 style="color: #0ea5c1; font-size: 0.9rem; margin-bottom: 0.5rem;">1. Setup MSW server</h4>
            <p style="color: #a0aec0; font-size: 0.75rem;">Mock API endpoints and define responses</p>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <h4 style="color: #0ea5c1; font-size: 0.9rem; margin-bottom: 0.5rem;">2. Server lifecycle</h4>
            <p style="color: #a0aec0; font-size: 0.75rem;">Start before tests, reset between tests, close after</p>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <h4 style="color: #0ea5c1; font-size: 0.9rem; margin-bottom: 0.5rem;">3. Arrange</h4>
            <p style="color: #a0aec0; font-size: 0.75rem;">Render the page and wait for initial data load</p>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <h4 style="color: #0ea5c1; font-size: 0.9rem; margin-bottom: 0.5rem;">4. Act</h4>
            <p style="color: #a0aec0; font-size: 0.75rem;">Click button, fill form fields, submit form</p>
          </div>

          <div style="margin-bottom: 1.5rem;">
            <h4 style="color: #0ea5c1; font-size: 0.9rem; margin-bottom: 0.5rem;">5. Assert</h4>
            <p style="color: #a0aec0; font-size: 0.75rem;">
              Wait for API call, verify UI updated, check new item appears
            </p>
          </div>

          <div
            style="border: 2px solid #0ea5c1; border-radius: 8px; padding: 0.75rem; background: rgba(14, 165, 193, 0.15);"
          >
            <p style="margin: 0; font-size: 0.75rem; color: #e2e8f0;">
              <strong>Key insight:</strong> Test reads like user behavior, not technical implementation.
            </p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Slide 21: Integration vs E2E - Same Test, Different Approach -->
  <section>
    <h2>Integration vs E2E: Notice the Similarity</h2>
    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 1.5rem;">
      <div>
        <h3 style="color: #4ade80; text-align: center; margin-bottom: 1rem;">Integration Test</h3>
        <pre
          style="font-size: 0.45rem; line-height: 1.2; background: #1e293b; padding: 0.75rem; border-radius: 8px; overflow-x: auto; max-height: 550px;"><code style="color: #e2e8f0;">// Setup MSW
const server = setupServer(
  http.get('/api/tasks', () =&gt; &#123;
    return HttpResponse.json([
      &#123; id: 1, title: 'Review PR' &#125;
    ]);
  &#125;),
  http.post('/api/tasks', async (&#123; request &#125;) =&gt; &#123;
    const body = await request.json();
    return HttpResponse.json(&#123;
      id: 2, title: body.title
    &#125;);
  &#125;)
);

beforeAll(() =&gt; server.listen());
afterEach(() =&gt; server.resetHandlers());
afterAll(() =&gt; server.close());

// Render with providers
function renderWithProviders(component) &#123;
  const store = configureStore(&#123;
    reducer: &#123; tasks: tasksReducer &#125;
  &#125;);
  return render(
    &lt;Provider store=&#123;store&#125;&gt;
      &lt;ThemeProvider theme=&#123;theme&#125;&gt;
        &#123;component&#125;
      &lt;/ThemeProvider&gt;
    &lt;/Provider&gt;
  );
&#125;

test('user creates new task', async () =&gt; &#123;
  renderWithProviders(&lt;TasksPage /&gt;);

  expect(await screen.findByText('Review PR')).toBeInTheDocument();
  await user.click(screen.getByRole('button', &#123; name: /Create Task/i &#125;));
  await user.type(screen.getByLabelText(/title/i), 'Deploy to staging');
  await user.click(screen.getByRole('button',&#123; name: /save/i &#125;));
  await waitFor(() =&gt; &#123;
    expect(screen.getByText('Deploy to staging')).toBeInTheDocument();
  &#125;);
&#125;);</code></pre>
      </div>

      <div>
        <h3 style="color: #f0c36d; text-align: center; margin-bottom: 1rem;">E2E Test</h3>
        <pre
          style="font-size: 0.45rem; line-height: 1.2; background: #1e293b; padding: 0.75rem; border-radius: 8px; overflow-x: auto; max-height: 550px;"><code style="color: #e2e8f0;">// No setup needed




// Backend is real




// Just start testing
          
          
          
test('user creates new task', async (&#123; page &#125;) =&gt; &#123;
  await page.goto('http://localhost:3000/tasks');

  await expect(page.getByText('Review PR')).toBeVisible();
  await page.getByRole('button',&#123; name: /Create Task/i &#125;).click();
  await page.getByLabel(/title/i).fill('Deploy to staging');
  await page.getByRole('button',&#123; name: /save/i &#125;).click();
  await expect(page.getByText('Deploy to staging')).toBeVisible();
&#125;);</code></pre>
      </div>
    </div>

    <div
      style="border: 2px solid #0ea5c1; border-radius: 12px; padding: 1.5rem; background: rgba(14, 165, 193, 0.15); margin-top: 2rem;"
    >
      <p style="margin: 0; font-size: 1.1rem; font-weight: 600; color: #e2e8f0; text-align: center;">
        <strong>Key insight:</strong> Same user actions. Integration = fast + mocked API. E2E = slow + real backend.
      </p>
    </div>
  </section>

  <!-- Slide 22: Old Way vs New Way -->
  <section>
    <h2>Old Way vs New Way</h2>
    <table style="width: 100%; border-collapse: collapse; margin-top: 1.5rem; font-size: 0.7rem;">
      <thead>
        <tr style="border-bottom: 2px solid #0ea5c1;">
          <th style="text-align: left; padding: 0.6rem; background: rgba(14, 165, 193, 0.1);">What needs mocking</th>
          <th style="text-align: left; padding: 0.6rem; background: rgba(14, 165, 193, 0.1);">
            Traditional Unit Testing
          </th>
          <th style="text-align: left; padding: 0.6rem; background: rgba(14, 165, 193, 0.1);">
            MSW + RTL Integration Testing
          </th>
        </tr>
      </thead>
      <tbody>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.6rem; font-weight: 600;">API calls</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Mock every fetch/axios call in every test</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Mock once at network level with MSW handlers</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.6rem; font-weight: 600;">Routing</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Mock useNavigate, useParams, useLocation, etc.</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Wrap in MemoryRouter, works naturally</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.6rem; font-weight: 600;">Custom hooks</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Mock each custom hook separately</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Use real hooks (they run naturally)</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.6rem; font-weight: 600;">Context providers</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Mock context values manually</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Wrap in real providers with test data</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.6rem; font-weight: 600;">localStorage/sessionStorage</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Mock storage APIs</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Works with real browser APIs in jsdom</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.6rem; font-weight: 600;">State management</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Mock store, selectors, dispatch</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Use real store with test initial state</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.6rem; font-weight: 600;">Third-party UI libs</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Often need to mock complex components</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Render real components (may need setup)</td>
        </tr>
        <tr style="border-bottom: 1px solid #374151;">
          <td style="padding: 0.6rem; font-weight: 600;">Browser APIs</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Mock window, document, observers</td>
          <td style="padding: 0.6rem; color: #a0aec0;">Most work in jsdom, mock only when needed</td>
        </tr>
      </tbody>
    </table>
  </section>

  <!-- Slide 23: Testing Strategies -->
  <section>
    <h2>Testing Strategies</h2>
    <h3 style="color: #0ea5c1; margin-top: 1rem;">What are our options?</h3>
  </section>

  <!-- Slide 24: Strategy 1 - E2E Only -->
  <section>
    <h2>Strategy 1: E2E Only</h2>
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2rem; margin-top: 2rem;">
      <div>
        <h3 style="color: #4ade80; margin-bottom: 1rem;">Pros</h3>
        <ul style="color: #a0aec0; font-size: 0.85rem; line-height: 1.8;">
          <li style="margin-bottom: 0.5rem;">Test almost every user flow</li>
          <li style="margin-bottom: 0.5rem;">Backend is tested too</li>
          <li style="margin-bottom: 0.5rem;">Easier to write than other test types</li>
          <li style="margin-bottom: 0.5rem;">No mocking complexity</li>
          <li>Closest to real user experience</li>
        </ul>
      </div>

      <div class="fragment">
        <h3 style="color: #f87171; margin-bottom: 1rem;">Cons</h3>
        <ul style="color: #a0aec0; font-size: 0.85rem; line-height: 1.8;">
          <li style="margin-bottom: 0.5rem;">Slow to run (hours for full suite)</li>
          <li style="margin-bottom: 0.5rem;">Testing edge cases makes it even slower</li>
          <li style="margin-bottom: 0.5rem;">Dependent on backend availability</li>
          <li style="margin-bottom: 0.5rem;">Flaky when 3rd party services are involved</li>
          <li>Engineers wait for feedback</li>
        </ul>
      </div>

      <div class="fragment">
        <h3 style="color: #0ea5c1; margin-bottom: 1rem;">When to use</h3>
        <ul style="color: #a0aec0; font-size: 0.85rem; line-height: 1.8;">
          <li style="margin-bottom: 0.5rem;">Existing product with no tests (biggest impact on quality)</li>
          <li style="margin-bottom: 0.5rem;">No capacity to implement other test types</li>
          <li style="margin-bottom: 0.5rem;">Small team, limited testing resources</li>
          <li>Legacy codebase too coupled to test in isolation</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Slide 25: Strategy 2 - E2E + Integration -->
  <section>
    <h2>Strategy 2: E2E + Integration (The Balance)</h2>
    <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2rem; margin-top: 2rem;">
      <div>
        <h3 style="color: #4ade80; margin-bottom: 1rem;">Pros</h3>
        <ul style="color: #a0aec0; font-size: 0.85rem; line-height: 1.8;">
          <li style="margin-bottom: 0.5rem;">E2E tests main flows (Happy Path)</li>
          <li style="margin-bottom: 0.5rem;">Integration tests edge cases</li>
          <li style="margin-bottom: 0.5rem;">Fast feedback loop (minutes, not hours)</li>
          <li style="margin-bottom: 0.5rem;">Better control of test suite size</li>
        </ul>
      </div>

      <div class="fragment">
        <h3 style="color: #f87171; margin-bottom: 1rem;">Cons</h3>
        <ul style="color: #a0aec0; font-size: 0.85rem; line-height: 1.8;">
          <li style="margin-bottom: 0.5rem;">Need to maintain two test types</li>
          <li style="margin-bottom: 0.5rem;">Requires more upfront setup (MSW, test utils)</li>
          <li>Need to think strategically about test distribution</li>
        </ul>
      </div>

      <div class="fragment">
        <h3 style="color: #0ea5c1; margin-bottom: 1rem;">When to use</h3>
        <ul style="color: #a0aec0; font-size: 0.85rem; line-height: 1.8;">
          <li style="margin-bottom: 0.5rem;">You have time and resources for best results</li>
          <li style="margin-bottom: 0.5rem;">Team is comfortable with modern testing tools</li>
          <li>You want sustainable test suite growth</li>
        </ul>
      </div>
    </div>
    <p style="margin-top: 2.5rem; color: #4ade80; text-align: center; font-size: 1.2rem; font-weight: 600;">
      This one should be the default testing strategy
    </p>
  </section>
  <!-- Slide 22: Thank you -->
  <section>
    <h2>What will be our approach?</h2>
  </section>
</PresentationLayout>
